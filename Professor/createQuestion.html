<HTML>
  <head>
    <title>Create Question Page</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
  </head>
  <body>
    <ul>
    <li><a href="index.html">Home</a></li>
    <li><a class="active" href="createQuestion.html">Create Question</a></li>
    <li><a href="createTest.html">Create Test</a></li>
  </ul>
  <br><h1>Create Question</h1>
    <textarea id="question" rows="10" cols="80">Please type your question here, professor.</textarea><br><br>
    <button onclick="makeRequestData('createTest.php')" id="submit">Submit</button>
    <script>
    function makeRequestData(url) {
			var data = getQuestion();
			console.log(data);
	    httpRequestTest = new XMLHttpRequest();

	    if (!httpRequestTest) {
	      alert('Giving up :( Cannot create an XMLHTTP instance');
	      return false;
	    }
	    httpRequestTest.onreadystatechange = submitQuestion;
	      httpRequestTest.open('POST', url);
	      httpRequestTest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
	      httpRequestTest.send(data);
	  }
    function getQuestion(){
			var data=document.getElementById("question").value;
			var jsonData=JSON.stringify(data);
			console.log(jsonData);
			return jsonData;
		}
    function submitQuestion() {
    if (httpRequestTest.readyState === XMLHttpRequest.DONE) {
      if (httpRequestTest.status === 200) {
        var submittedQuestion = httpRequestTest.responseText;
        var div=document.createElement("div");
        var text = document.createTextNode(submittedQuestion);
        div.appendChild(text);
        document.body.appendChild(div);
        //document.getElementById("testSuccess").innerHTML=createdTest;
      } else {
        alert('There was a problem with the request.');
      }
    }
    }
    </script>
  </body>
</HTML>
